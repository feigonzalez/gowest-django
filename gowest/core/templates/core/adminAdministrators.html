{% extends 'core/templates/adminViewTemplate.html' %}
{% block 'adminContent' %}
<form class="mb-3" action="{% url 'adminAdministrators' %}" method="GET">
	{% csrf_token %}
    <div class="input-group">
		<input class="searchbar form-control" name="adminAdministratorsSearchQuery" id="searchAdmins" placeholder="Buscar en Administradores"></input>
      	<div class="input-group-append">
        	<button class="btn btn-gowest"><span class="icon fa fa-search"></span></button>
      	</div>
    </div>
</form>
<div class="table-responsive">
	<table class="table table-hover align-middle">
		<thead>
			<tr>
			<th>Nombre</th>
			<th class="d-none d-sm-table-cell">RUT</th>
			<th>Correo</th>
			<th class="d-none d-sm-table-cell">Teléfono</th>
			<th></th>
			</tr>
		</thead>
		<tbody id="tableAdministratorsBody">
			{% for user in users %}
			<tr>
				<td data-type="string">{{ user.name }} {{ user.surname }}</td>
				<td class="d-none d-sm-table-cell" data-type="string">{{ user.rut }}</td>
				<td data-type="string">{{ user.mail }}</td>
				<td class="d-none d-sm-table-cell" data-type="string">{{ user.phone }}</td>
				<td class="text-right"><button class="btn btn-success"
					data-toggle="modal" data-target="#administratorDataModal"
					onclick="prepareAdministratorModal(this)" data-id="{{ user.rut }}">
					<span class="icon fa fa-search"></span></button>
					<button class="btn btn-danger" data-toggle="modal"
					data-target="#deleteAlertModal" onclick="confirmDeleteAdministrator(this)">
					<span class="icon fa fa-trash"></span></button></td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
<div class="container p-3 fr text-right">
	<button class="btn btn-success" data-toggle="modal" data-target="#administratorDataModal" onclick="prepareAdministratorModal()">Añadir Administrador</button>
</div>
{% include 'core/modal/administratorDataModal.html' %}
{% include 'core/modal/deleteAlertModal.html' %}
{% endblock 'adminContent' %}